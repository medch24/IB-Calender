<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Calendrier des √âvaluations - KIS</title>
    <link rel="stylesheet" href="style.css?v=20251210-2">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/docxtemplater/3.37.4/docxtemplater.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pizzip/3.1.4/pizzip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pizzip-utils/0.1.0/pizzip-utils.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo-section">
                <img src="https://lh3.googleusercontent.com/d/1lQ3Babrs3Wgv4rakVmkK0oCWcM0cTKPK" alt="Al Kawthar Logo" class="logo">
            </div>
            <div class="title-section">
                <h1 class="main-title">Calendrier des √âvaluations</h1>
                <p class="subtitle">Kawthar International School - Ann√©e 2025-2026</p>
            </div>
            <div class="controls-section">
                <select id="classeSelect" class="select-classe">
                    <option value="">S√©lectionner une classe</option>
                    <option value="PEI1">PEI 1</option>
                    <option value="PEI2">PEI 2</option>
                    <option value="PEI3">PEI 3</option>
                    <option value="PEI4">PEI 4</option>
                    <option value="PEI5">PEI 5</option>
                    <option value="DP1">DP 1</option>
                    <option value="DP2">DP 2</option>
                </select>
                <button id="deleteAllBtn" class="btn-delete-all" title="Supprimer toutes les √©valuations de cette classe">üóëÔ∏è Tout supprimer</button>
                <button id="exportBtn" class="btn-export">üì• Exporter</button>
            </div>
        </div>
        
        <!-- L√©gende -->
        <div class="legend">
            <div class="legend-item">
                <span class="legend-color normale"></span>
                <span>Cours normaux</span>
            </div>
            <div class="legend-item">
                <span class="legend-color examens"></span>
                <span>Examens</span>
            </div>
            <div class="legend-item">
                <span class="legend-color vacances"></span>
                <span>Vacances</span>
            </div>
        </div>
    </header>

    <!-- Navigation mati√®res -->
    <nav class="subjects-nav">
        <button class="subject-tab active" data-matiere="Fran√ßais LL">Fran√ßais LL</button>
        <button class="subject-tab" data-matiere="Anglais AL">Anglais AL</button>
        <button class="subject-tab" data-matiere="Math√©matiques">Math√©matiques</button>
        <button class="subject-tab" data-matiere="Sciences">Sciences</button>
        <button class="subject-tab" data-matiere="IS">Individus & Soci√©t√©s</button>
        <button class="subject-tab" data-matiere="Arts">Arts</button>
        <button class="subject-tab" data-matiere="Design">Design</button>
    </nav>

    <!-- Contenu principal -->
    <main class="main-content">
        <div id="calendrier" class="calendar-grid">
            <!-- Le calendrier sera g√©n√©r√© ici par JavaScript -->
        </div>
    </main>

    <!-- Formulaire d'ajout -->
    <div id="formAjout" class="form-container" style="display: none;">
        <div class="form-content">
            <h3>Ajouter une √©valuation</h3>
            <form id="evalForm">
                <input type="hidden" id="semaineInput">
                <input type="hidden" id="matiereInput">
                
                <div class="form-group">
                    <label>Semaine :</label>
                    <input type="text" id="semaineDisplay" readonly>
                </div>
                
                <div class="form-group">
                    <label>Mati√®re :</label>
                    <input type="text" id="matiereDisplay" readonly>
                </div>
                
                <div class="form-group">
                    <label for="uniteInput">Unit√© :</label>
                    <input type="text" id="uniteInput" placeholder="Ex: Unit√© 1" required>
                </div>
                
                <div class="form-group">
                    <label for="critereInput">Crit√®re :</label>
                    <input type="text" id="critereInput" placeholder="Ex: A, B, C, D" required>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Ajouter</button>
                    <button type="button" id="annulerBtn" class="btn btn-secondary">Annuler</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Export -->
    <div id="modalExport" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Options d'export</h3>
            <div class="export-options">
                <button id="exportZIP" class="export-btn">
                    <span class="export-icon">üì¶</span>
                    <span class="export-text">Export ZIP (toutes mati√®res)</span>
                </button>
                <button id="exportMatiere" class="export-btn">
                    <span class="export-icon">üìÑ</span>
                    <span class="export-text">Export mati√®re actuelle</span>
                </button>
                <button id="exportComplet" class="export-btn">
                    <span class="export-icon">üìã</span>
                    <span class="export-text">Export document complet</span>
                </button>
            </div>
            <button id="fermerModal" class="btn btn-secondary">Fermer</button>
        </div>
    </div>

    <!-- Toast notifications -->
    <div id="toast" class="toast"></div>

    <script src="script.js?v=20251210-2"></script>
</body>
</html>
